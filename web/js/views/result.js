// Generated by CoffeeScript 1.7.1
define(['jquery', 'ma', 'api', 'utils', 'vv', 'text!templates/result.html'], function($, ma, api, utils, vv, template) {
  var ResultView;
  return ResultView = Backbone.View.extend({
    el: $('body'),
    model: null,
    initialize: function(options) {
      return this.model = options.data;
    },
    render: function() {
      console.log(this.model);
      this.$el.html(_.template(template)(this.model));
      vv.work();
      return this.picture();
    },
    picture: function() {
      var counter;
      counter = 1;
      return _.each($('img.attraction'), function(img) {
        setTimeout(function() {
          return api.getPhoto($(img).data('name'), $(img).data('address'), function(url) {
            if (url != null) {
              return $(img).attr('src', url);
            }
          });
        }, counter * 500);
        return counter++;
      });
    }
  });
});
